process {
    publishDir = [
	path: { "${params.outdir}/$sample" },
	mode: 'copy'
    ]
    withName: BUSCO {
	ext.args = params.auto_lineage ? "--auto-lineage" : "-l ${params.lineage}"
	ext.args2 = params.busco_options
    }
    withName: CHECKM2 {
	ext.args = "--database_path ${params.checkm2_db}"
	ext.args2 = params.checkm2_options
    }
    withName: GTDBTK2 {
	ext.args = "--mash_db ${params.mash_db}"
	ext.args2 = params.gtdbtk2_options
    }
    withName: GUNC {
	ext.args = "-r ${params.gunc_db}"
	ext.args2 = params.gunc_options
    }
    withName: QUAST {
	ext.args = "--max-ref-number ${params.max_ref_number}"
    }
}
